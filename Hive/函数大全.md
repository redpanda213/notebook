# 函数大全

## 一、关系运算

### 1.等值比较

`=`

语法：A=B

如果表达式A=B,则返回TRUE；否则返回false

### 2.不等值比较

`<>`

语法：A<>B

如果**A或B为NULL，则返回NULL**；如果表达式**A与B不相等，则为TRUE**；否则为FALSE

### 3.小于、小于等于、大于、大于等于

### 4.空值\非空判断

语法：`A IS NULL\NOT NULL`

NULL：如果表达式A的值为NULL，则返回TRUE；否则返回FALSE

NOT NULL则相反

### 5.Like

语法：A LIKE B	strings

如果字符串A或者字符串B为NULL，则返回NULL；如果字符串A符合表达式B  的正则语法，则为TRUE；否则为FALSE。B中字符”_”表示任意单个字符，而字符”%”表示任意数量的字符

否定比较：NOT A LIKE B

### 6.RLIKE

java的like操作，A RLIKE B ，A 符合B的正则语法，B的正则语法为java正则表达式

### 7.REGEXP

语法：A REGEXP B    strings

功能与RLIKE相同

## 二、数学运算

### 1.加减乘除

`+` `-` `*` `/`       可对所有数值类型操作

乘法的结果的数值类型等于A的类型和B的类型的最小父类型，若A乘以B的结果超过默认结果类型的数值范围，则需要用**cast**将结果转换成数值更大的数值类型

除法的结果的数值类型为double

> hive中最高精度的数据类型是double，只精确到小数点后16位，在做除法运算的时候需注意

### 2.取余%

`%`

返回A除以B的余数

### 3.位于运算&

`&`

语法：A & B

> 位于运算
>
> 规则：1&1=1	1&0=0	0&1=0	0&0=0    （一一得一，其他都是零
>

4 & 8

00000100 &00001000 ---->0

6 & 4

00000110 &00000100 ----->6

### 4.位或操作|

`|`

语法：A | B

> 规则：	1|1=1	1|0=1	0|1=1	0|0=0    （零零得零，其他都是1

4|8

00000100|00001000---------->00001100->12



13|14

00001101|00001110--------->00001111->8+4+2+1=15

### 5.位异或操作^

`^`

语法：A^ B

> 规则：0^0=0；   0^1=1；   1^0=1；   1^1=0    （相同则位0，不同则为1

9^5

00001001^00000101- --->00001100->12

### 6.位取反操作~

`~`

语法：~A

> 规则：二进制中，1变0，0变1

**~9**   =   **-(9+1)=-10**

> 比如会问，为什么int的最大值32767和最小值-32768不对等

## 三、逻辑运算

### 1.逻辑`与`操作

语法：A AND B

如果A和B均为TRUE，则返回TRUE，否则返回FALSE

### 2. 逻辑`或`操作: 

语法: A OR B

如果A为TRUE，或者B为TRUE，或者A和B均为TRUE，则为TRUE；否则为FALSE

### 3. 逻辑`非`操作

语法: NOT A

如果A为FALSE，或者A为NULL，则为TRUE；否则为FALSE

举例：





## 四、数值计算

### 1.取整函数round

语法：round(double a)

四舍五入返回double类型的整数值部分，返回值类型位BIGINT

### 2.指定精度的round

语法：round(double a,int d)

返回a的小数点后保留d位

### 3.向下取整函数floor

语法：floor(double a)

```
hive> select floor(3.1415926)
结果:3
```

### 4.向上取整ceil

语法：ceil(double a)

```
hive> select ceil(3.145926)
结果：4
```

### 5.取随机数函数rand

语法：rand()

返回0到1之间的随机数

返回1到10之间的随机数floor(rand()*10)

### 6.自然指数函数exp

语法：exp(double a)

返回自然对数e的a次方

### 7.自然对数函数ln

语法：ln(double a)

返回a的自然对数

### 8.以10为底对数函数:log10

语法: log10(double a)

返回以10为底的a的对数

### 9.以2为底对数函数: log2

## 字符函数

### substr

substr('hello',4,1)对于字符串'hello' 从start位置开始截取长度位length的字符串并返回



